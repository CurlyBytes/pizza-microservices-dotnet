{
  "DetailedErrors": true,
  //Sets the Logging level for ASP.NET
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      // Uncomment to hide diagnostic messages from runtime and proxy
      // "Microsoft": "Warning",
      // "Yarp" : "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },

  "ReverseProxy": {
    // Routes tell the proxy which requests to forward
    "Routes": {
      "specials": {
        "ClusterId": "specials-cluster",
        "Match": {
          "Path": "/api/specials/{*any}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/api/specials" }
        ]
      },
      "toppings": {
        "ClusterId": "toppings-cluster",
        "Match": {
          "Path": "/toppings/{*any}"
        }
      },
      "swagger": {
        "ClusterId": "swagger-cluster",
        "Match": {
          "Path": "/swagger/{*any}"
        }
      }
    },
    // Clusters tell the proxy where and how to forward requests
    "Clusters": {
      "specials-cluster": {
        "HealthCheck": {
          "Active": {
            "Enabled": "false",
            "Interval": "00:00:10",
            "Timeout": "00:00:10",
            "Policy": "ConsecutiveFailures",
            "Path": "/healthz"
          }
        },
        "Metadata": {
          "ConsecutiveFailuresHealthPolicy.Threshold": "3"
        },
        "Destinations": {
          "specials-api": {
            "Address": "{{specials-api}}"
          }
        },
        "toppings-cluster": {
          "Destinations": {
            "toppings-api": {
              "Address": "{{toppings-api}}"
            }
          }
        },
        "swagger-cluster": {
          "Destinations": {
            "swaggerui": {
              "Address": "/swagger"
            }
          }
        },
        "cluster4": {
          "Destinations": {
            "first_destination": {
              "Address": "https://contoso.com"
            },
            "another_destination": {
              "Address": "https://bing.com"
            }
          },
          "LoadBalancingPolicy": "PowerOfTwoChoices"
        }
      }
    }
  }
}